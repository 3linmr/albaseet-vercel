# إدارة النظام

## القائمة المنسدلة
### نظرة عامة
هذا الدليل يحتوي على توثيق شامل للقائمة المنسدلة التي تظهر في الشريط العلوي لنظام الألبسيط عند الضغط على زر "مرحباً أحمد أيمن".

### الموقع
تظهر القائمة المنسدلة في جميع شاشات النظام بعد تسجيل الدخول، بدءاً من شاشة اختيار النشاط.

### القائمة المنسدلة في الشريط العلوي
#### الوصف
القائمة المنسدلة التي تظهر عند الضغط على زر "مرحباً أحمد أيمن" في الشريط العلوي للنظام.

#### الموقع
تظهر في الشريط العلوي (الهيدر) في جميع شاشات النظام بعد تسجيل الدخول، بدءاً من شاشة اختيار النشاط.

#### الوظائف
- إدارة الحساب الشخصي
- تغيير كلمة المرور
- إدارة النظام
- الخروج من النظام

## تغيير كلمة المرور
### الوصف
تتيح هذه الشاشة للمستخدم تغيير كلمة المرور الخاصة بحسابه لزيادة الأمان.

### الوظائف
- إدخال كلمة المرور القديمة
- إدخال كلمة المرور الجديدة
- تأكيد كلمة المرور الجديدة
- حفظ التغييرات

### الحقول المطلوبة
- **كلمة المرور القديمة** (إلزامي)
- **كلمة المرور الجديدة** (إلزامي)
- **تأكيد كلمة المرور الجديدة** (إلزامي)

### أزرار التحكم
- **حفظ**: لحفظ كلمة المرور الجديدة
- **إلغاء**: للعودة بدون حفظ

### رسائل النظام
- **نجاح**: "تم تغيير كلمة المرور بنجاح."
- **خطأ**: "كلمة المرور القديمة غير صحيحة."
- **خطأ**: "كلمة المرور الجديدة لا تتطابق مع تأكيد كلمة المرور."
- **خطأ**: "كلمة المرور الجديدة لا تفي بالمتطلبات (الطول، الأحرف الخاصة، الأرقام)."

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Users/ChangePasswordController
- التحقق من صحة كلمة المرور (طول، تعقيد)
- تشفير كلمة المرور قبل الحفظ

## متطلبات كلمة المرور القوية
### الوصف
لضمان أمان حسابك، يجب أن تلتزم كلمة المرور الجديدة بالمتطلبات التالية:

### المتطلبات
- **الطول الأدنى**: يجب أن لا تقل كلمة المرور عن 8 أحرف.
- **الأحرف الكبيرة والصغيرة**: يجب أن تحتوي على أحرف كبيرة (Capital Letters) وأحرف صغيرة (Small Letters).
- **الأرقام**: يجب أن تحتوي على رقم واحد على الأقل.
- **الأحرف الخاصة**: يجب أن تحتوي على حرف خاص واحد على الأقل (مثل: !, @, #, $, %, ^, &, *).
- **عدم التكرار**: يفضل عدم استخدام كلمات مرور تم استخدامها مسبقاً.

### أمثلة على كلمات مرور قوية
- MyP@ssw0rd!
- Secure#Pa$$2024
- User@12345 (غير مستحسن، لكن يفي بالحد الأدنى)

### نصائح أمنية
- استخدم كلمات مرور فريدة لكل حساب.
- قم بتغيير كلمة المرور بانتظام.
- لا تشارك كلمة مرورك مع أي شخص.

## إدارة النظام
### الوصف
شاشة إدارة النظام المتقدمة، تتيح للمديرين الوصول إلى إعدادات النظام المتقدمة وإدارة المستخدمين والصلاحيات والاشتراكات.

### الوظائف
- إدارة الاشتراكات
- إدارة الباقات
- إدارة الشركات
- إدارة الملف الشخصي
- إدارة المستخدمين والصلاحيات
- إدارة العروض الترويجية

### الأقسام الرئيسية
#### 1. الاشتراكات
- تتبع الاشتراكات ومعالجتها
- إدارة حالة الاشتراكات
- تجديد الاشتراكات
- إلغاء الاشتراكات
- تقارير الاشتراكات

#### 2. الباقات
- إدارة الباقات وإتاحتها
- إنشاء باقات جديدة
- تعديل الباقات الموجودة
- تحديد أسعار الباقات
- إدارة ميزات الباقات

#### 3. الشركات
- إدارة الشركات والبرامج الخاصة بهم
- إضافة شركات جديدة
- تعديل بيانات الشركات
- إدارة البرامج الخاصة بالشركات
- ربط الشركات بالباقات

#### 4. الملف الشخصي
- إدارة حسابك الشخصي
- تحديث البيانات الشخصية
- تغيير كلمة المرور
- إدارة الإعدادات الشخصية
- تفضيلات النظام

#### 5. المستخدمين
- إدارة المستخدمين وصلاحياتهم
- إضافة مستخدمين جدد
- تعديل صلاحيات المستخدمين
- إدارة الأدوار
- مراقبة نشاط المستخدمين

#### 6. العروض الترويجية
- إنشاء وإدارة العروض الترويجية
- تحديد خصومات وعروض
- إدارة فترات العروض
- تتبع فعالية العروض
- تقارير العروض الترويجية

## الاشتراكات
### الوصف
تتيح هذه الشاشة للمديرين تتبع الاشتراكات ومعالجتها وإدارتها بشكل شامل.

### الوظائف
- عرض قائمة جميع الاشتراكات
- تتبع حالة الاشتراكات
- تجديد الاشتراكات
- إلغاء الاشتراكات
- إضافة اشتراك جديد
- تعديل بيانات الاشتراك
- تقارير الاشتراكات

### أزرار التحكم في الشريط العلوي
- **إضافة جديد**: لإضافة اشتراك جديد
- **إعادة تحميل**: لإعادة تحميل البيانات
- **تصدير**: لتصدير بيانات الاشتراكات
- **إعدادات الجدول**: لتخصيص إعدادات الجدول
- **منتقي الأعمدة**: لاختيار الأعمدة المعروضة

### شريط البحث والتصفية
- **رقم الاشتراك**: للبحث برقم الاشتراك
- **الرقم المرجعي**: للبحث بالرقم المرجعي
- **الشركة**: للبحث باسم الشركة
- **البرنامج**: للبحث باسم البرنامج
- **تاريخ الاشتراك**: للبحث بتاريخ الاشتراك
- **الباقة**: للبحث باسم الباقة
- **مدة الاشتراك**: للبحث بمدة الاشتراك
- **بداية الاشتراك**: للبحث بتاريخ بداية الاشتراك
- **نهاية الاشتراك**: للبحث بتاريخ نهاية الاشتراك
- **الاشتراك مدفوع؟**: لتصفية الاشتراكات المدفوعة
- **الاشتراك منتهي**: لتصفية الاشتراكات المنتهية

### أعمدة الجدول
- **رقم الاشتراك**: رقم تسلسلي للاشتراك
- **الرقم المرجعي**: معرف فريد للاشتراك
- **الشركة**: اسم الشركة المشتركة
- **البرنامج**: اسم البرنامج المرتبط بالاشتراك
- **تاريخ الاشتراك**: تاريخ بدء الاشتراك
- **الباقة**: نوع الباقة المشترك بها
- **مدة الاشتراك**: مدة الباقة (سنوي، شهري، فترة تجريبية)
- **بداية الاشتراك**: تاريخ بداية فترة الاشتراك
- **نهاية الاشتراك**: تاريخ انتهاء فترة الاشتراك
- **الاشتراك مدفوع**: حالة الدفع
- **الاشتراك ساري**: حالة صلاحية الاشتراك

### ميزات الجدول
- **التجميع**: يمكن سحب رأس العمود للتجميع حسب ذلك العمود
- **الترتيب**: إمكانية ترتيب البيانات حسب أي عمود
- **البحث**: إمكانية البحث في البيانات
- **التصفية**: إمكانية تصفية البيانات

### خيارات العرض
- **عدد العناصر في الصفحة**: الكل، 1000، 200، 100، 20
- **التنقل**: الصفحة 1 من 3 (54 من العناصر)
- **إنشاء عامل تصفية**: لإضافة فلاتر مخصصة

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/SubscriptionsController
- يتطلب صلاحيات إدارية للوصول
- دعم إشعارات انتهاء الاشتراكات

## إضافة اشتراك جديد
### الوصف
تتيح هذه الشاشة للمديرين إضافة اشتراك جديد للشركات مع تحديد جميع التفاصيل المالية والحدود.

### الحقول المطلوبة
#### الصف الأول (معلومات أساسية عن الاشتراك)
- **الشركة** (إلزامي) - قائمة منسدلة لاختيار الشركة
- **البرنامج** (إلزامي) - قائمة منسدلة لاختيار البرنامج
- **الباقة** (إلزامي) - قائمة منسدلة لاختيار الباقة
- **دورية الاشتراك** (إلزامي) - قائمة منسدلة لاختيار دورية الاشتراك

#### الصف الثاني (تواريخ الاشتراك وفترة السماح)
- **تاريخ الاشتراك** (إلزامي) - تاريخ بدء الاشتراك
- **بداية الاشتراك** (إلزامي) - تاريخ بداية فترة الاشتراك
- **نهاية الاشتراك** (إلزامي) - تاريخ انتهاء فترة الاشتراك
- **أيام فترة السماح** (إلزامي) - عدد أيام فترة السماح

#### الصف الثالث (القيم المالية والخصومات)
- **قيمة الاشتراك** (إلزامي) - القيمة الإجمالية للاشتراك
- **قيمة الخصم** (إلزامي) - قيمة الخصم المطبق
- **كود الخصم الترويجي** (اختياري) - كود الخصم الترويجي
- **المبلغ المدفوع** (إلزامي) - المبلغ المدفوع فعلياً

#### الصف الرابع (حدود الموارد والرقم المرجعي)
- **عدد المستخدمين** (إلزامي) - الحد الأقصى لعدد المستخدمين
- **عدد الأنشطة** (إلزامي) - الحد الأقصى لعدد الأنشطة
- **عدد المواقع** (إلزامي) - الحد الأقصى لعدد المواقع
- **الرقم المرجعي للدفع** (اختياري) - الرقم المرجعي للدفع

#### مناطق الملاحظات
- **ملاحظات بالعربية** (اختياري) - ملاحظات إضافية باللغة العربية
- **ملاحظات بالإنجليزية** (اختياري) - ملاحظات إضافية باللغة الإنجليزية

### أزرار التحكم
- **حفظ**: لحفظ الاشتراك الجديد
- **عودة**: للعودة إلى شاشة قائمة الاشتراكات بدون حفظ

### رسائل النظام
- **نجاح**: "تم إضافة الاشتراك بنجاح"
- **خطأ**: "يرجى ملء جميع الحقول الإلزامية"
- **خطأ**: "تاريخ البداية يجب أن يكون قبل تاريخ النهاية"
- **خطأ**: "قيمة الخصم لا يمكن أن تكون أكبر من قيمة الاشتراك"
- **خطأ**: "المبلغ المدفوع لا يمكن أن يكون أكبر من قيمة الاشتراك"

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/SubscriptionsController/Create
- التحقق من صحة البيانات قبل الحفظ
- دعم اللغتين العربية والإنجليزية
- دعم اختيار التواريخ من التقويم
- حساب تلقائي للقيم المالية

## الباقات
### الوصف
تتيح هذه الشاشة للمديرين إدارة الباقات وإتاحتها وتحديد ميزاتها وأسعارها.

### الوظائف
- عرض قائمة جميع الباقات
- إنشاء باقة جديدة
- تعديل الباقات الموجودة
- حذف الباقات
- تحديد أسعار الباقات
- إدارة ميزات الباقات
- تفعيل/تعطيل الباقات

### أزرار التحكم في الشريط العلوي
- **إضافة جديد**: لإنشاء باقة جديدة
- **إعادة تحميل**: لإعادة تحميل البيانات
- **تصدير**: لتصدير بيانات الباقات
- **إعدادات الجدول**: لتخصيص إعدادات الجدول
- **منتقي الأعمدة**: لاختيار الأعمدة المعروضة

### أعمدة الجدول
- **كود الباقة**: معرف الباقة
- **الاسم بالعربية**: اسم الباقة باللغة العربية
- **الاسم بالإنجليزية**: اسم الباقة باللغة الإنجليزية
- **البرنامج**: البرنامج المرتبط بالباقة
- **دورية الباقة**: دورية الباقة (سنوي/شهري)
- **نوع الباقة**: نوع الباقة (عادية/مميزة)
- **صلاحية الباقة**: حالة الباقة (فعالة/معطلة)
- **نوع الإتاحة**: نوع الإتاحة (متاحة للعملاء/داخلياً فقط)
- **يشمل نظام الموافقات؟**: هل تشمل نظام الموافقات (مشمول/غير مشمول)

### ميزات الجدول
- **التجميع**: يمكن سحب رأس العمود للتجميع حسب ذلك العمود
- **الترتيب**: إمكانية ترتيب البيانات حسب أي عمود
- **البحث**: إمكانية البحث في البيانات
- **التصفية**: إمكانية تصفية البيانات

### خيارات العرض
- **عدد العناصر في الصفحة**: الكل، 1000، 200، 100، 20
- **التنقل**: الصفحة 1 من 1 (4 من العناصر)
- **إنشاء عامل تصفية**: لإضافة فلاتر مخصصة

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/PackagesController
- يتطلب صلاحيات إدارية للوصول
- دعم تخصيص الميزات لكل باقة

## إضافة باقة جديدة
### الوصف
تتيح هذه الشاشة للمديرين إنشاء باقة جديدة مع تحديد جميع التفاصيل والشاشات المخصصة.

### الأقسام الرئيسية
#### 1. تفاصيل الباقة
##### أسماء الباقة
- **اسم الباقة بالعربية** (إلزامي) - اسم الباقة باللغة العربية
- **اسم الباقة بالإنجليزية** (إلزامي) - اسم الباقة باللغة الإنجليزية

##### أوصاف الباقة
- **وصف الباقة بالعربية** (اختياري) - وصف الباقة باللغة العربية
- **وصف الباقة بالإنجليزية** (اختياري) - وصف الباقة باللغة الإنجليزية

##### قيم الباقة وأنواعها
- **دورية الباقة** (إلزامي) - قائمة منسدلة (شهري، سنوي)
- **نوع الباقة** (إلزامي) - قائمة منسدلة (باقة عادية، باقة مميزة)
- **القيمة الحالية للباقة** (إلزامي) - القيمة الحالية للباقة
- **القيمة السابقة** (اختياري) - القيمة السابقة للباقة

##### الحدود
- **الحد الأقصى للمستخدمين** (إلزامي) - الحد الأقصى لعدد المستخدمين
- **الحد الأقصى للأنشطة** (إلزامي) - الحد الأقصى لعدد الأنشطة
- **الحد الأقصى للمواقع** (إلزامي) - الحد الأقصى لعدد المواقع

##### الإتاحة والحالة
- **صلاحية الباقة** (إلزامي) - قائمة منسدلة (فعالة، معطلة)
- **حالة نظام الموافقات** (إلزامي) - قائمة منسدلة (مشمول، غير مشمول)
- **نوع الإتاحة** (إلزامي) - قائمة منسدلة (داخلياً فقط، متاحة للعملاء)

##### التواريخ
- **تبدأ من** (إلزامي) - تاريخ بداية الباقة
- **صالحة حتى تاريخ** (إلزامي) - تاريخ انتهاء الباقة

##### معلومات إضافية
- **رابط الصورة الدعائية** (اختياري) - رابط الصورة الترويجية للباقة
- **ملاحظات بالعربية** (اختياري) - ملاحظات إضافية باللغة العربية
- **ملاحظات بالإنجليزية** (اختياري) - ملاحظات إضافية باللغة الإنجليزية

#### 2. الشاشات المخصصة
##### الشاشات المتاحة
- تأسيس
- المخازن
- المحاسبة
- مراكز التكلفة
- المشتريات
- المبيعات
- التقارير
- الطلبات
- الموافقات
- الترابطات
- الإعدادات

##### الصلاحيات
- تأسيس
- المخازن
- المحاسبة
- مراكز التكلفة
- المشتريات
- المبيعات
- الطلبات
- الموافقات

##### ميزات الشاشات المخصصة
- **البحث**: إمكانية البحث في الشاشات والصلاحيات
- **تحديد الكل**: لتحديد جميع الشاشات أو الصلاحيات
- **تحديد فردي**: لتحديد شاشات أو صلاحيات محددة

### أزرار التحكم
- **حفظ**: لحفظ الباقة الجديدة
- **عودة**: للعودة إلى شاشة قائمة الباقات بدون حفظ

### رسائل النظام
- **نجاح**: "تم إضافة الباقة بنجاح"
- **خطأ**: "يرجى ملء جميع الحقول الإلزامية"
- **خطأ**: "يجب تحديد شاشة واحدة على الأقل"
- **خطأ**: "تاريخ البداية يجب أن يكون قبل تاريخ النهاية"

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/PackagesController/Create
- التحقق من صحة البيانات قبل الحفظ
- دعم اللغتين العربية والإنجليزية
- دعم اختيار التواريخ من التقويم
- دعم تخصيص الشاشات والصلاحيات لكل باقة

## الشركات
### الوصف
تتيح هذه الشاشة للمديرين إدارة الشركات والبرامج الخاصة بهم وربطها بالباقات المناسبة.

### الوظائف
- عرض قائمة جميع الشركات
- إضافة شركة جديدة
- تعديل بيانات الشركة
- حذف الشركة
- إدارة البرامج الخاصة بالشركات
- ربط الشركات بالباقات
- إدارة مستخدمي الشركات

### أزرار التحكم في الشريط العلوي
- **إضافة جديد**: لإضافة شركة جديدة
- **إعادة تحميل**: لإعادة تحميل البيانات
- **تصدير**: لتصدير بيانات الشركات
- **إعدادات الجدول**: لتخصيص إعدادات الجدول
- **منتقي الأعمدة**: لاختيار الأعمدة المعروضة

### أعمدة الجدول
- **معرف الشركة**: معرف الشركة
- **اسم الشركة**: اسم الشركة
- **تاريخ العقد**: تاريخ العقد
- **رقم الهاتف**: رقم الهاتف
- **اسم الحالة**: اسم الحالة (فعال/معطل)

### ميزات الجدول
- **التجميع**: يمكن سحب رأس العمود للتجميع حسب ذلك العمود
- **الترتيب**: إمكانية ترتيب البيانات حسب أي عمود
- **البحث**: إمكانية البحث في البيانات
- **التصفية**: إمكانية تصفية البيانات

### خيارات العرض
- **عدد العناصر في الصفحة**: الكل، 1000، 200، 100، 20
- **التنقل**: الصفحة 1 من 1 (0) من العناصر
- **حالة البيانات**: "لا يوجد بيانات" (عند عدم وجود شركات)

### الحقول المطلوبة عند الإضافة
- **اسم الشركة** (إلزامي)
- **رقم السجل التجاري** (إلزامي)
- **العنوان** (إلزامي)
- **رقم الهاتف** (إلزامي)
- **البريد الإلكتروني** (إلزامي)
- **المدير المسؤول** (إلزامي)
- **الباقة المختارة** (إلزامي)
- **تاريخ بداية الاشتراك** (إلزامي)
- **الحالة** (إلزامي) - فعال/معطل

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/CompaniesController
- يتطلب صلاحيات إدارية للوصول
- دعم تخصيص البرامج لكل شركة

## إضافة شركة جديدة
### الوصف
تتيح هذه الشاشة للمديرين إضافة شركة جديدة إلى النظام مع جميع البيانات المطلوبة.

### الحقول المطلوبة
#### الصف الأول
- **الشركة بالعربية** (إلزامي) - اسم الشركة باللغة العربية
- **الشركة بالإنجليزية** (إلزامي) - اسم الشركة باللغة الإنجليزية

#### الصف الثاني
- **البرامج المخصصة** (اختياري) - البرامج المخصصة للشركة
- **الدولة** (إلزامي) - قائمة منسدلة لاختيار الدولة
- **اللغة المفضلة للتواصل** (إلزامي) - قائمة منسدلة (العربية، الإنجليزية)

#### الصف الثالث
- **تاريخ التعاقد** (إلزامي) - تاريخ بداية التعاقد مع الشركة
- **الجوال** (اختياري) - رقم الجوال
- **الإيميل** (اختياري) - البريد الإلكتروني
- **رقم الضريبة** (اختياري) - الرقم الضريبي للشركة

#### الصف الرابع
- **العنوان** (اختياري) - عنوان الشركة الكامل

#### الصف الخامس
- **الملاحظات بالعربية** (اختياري) - ملاحظات إضافية باللغة العربية
- **الملاحظات بالإنجليزية** (اختياري) - ملاحظات إضافية باللغة الإنجليزية

### أزرار التحكم
- **حفظ**: لحفظ بيانات الشركة الجديدة
- **عودة**: للعودة إلى شاشة قائمة الشركات بدون حفظ

### رسائل النظام
- **نجاح**: "تم إضافة الشركة بنجاح"
- **خطأ**: "يرجى ملء جميع الحقول الإلزامية"
- **خطأ**: "البريد الإلكتروني غير صحيح"
- **خطأ**: "رقم الجوال غير صحيح"

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/CompaniesController/Create
- التحقق من صحة البيانات قبل الحفظ
- دعم اللغتين العربية والإنجليزية
- دعم اختيار التاريخ من التقويم

## العروض الترويجية
### الوصف
تتيح هذه الشاشة للمديرين إنشاء وإدارة العروض الترويجية والخصومات للعملاء.

### الوظائف
- عرض قائمة جميع العروض الترويجية
- إنشاء عرض ترويجي جديد
- تعديل العروض الموجودة
- حذف العروض
- إدارة فترات العروض
- تحديد أنواع الخصومات
- تتبع فعالية العروض
- تقارير العروض الترويجية

### أزرار التحكم في الشريط العلوي
- **إضافة جديد**: لإنشاء عرض ترويجي جديد
- **إعادة تحميل**: لإعادة تحميل البيانات
- **تصدير**: لتصدير بيانات العروض الترويجية
- **إعدادات الجدول**: لتخصيص إعدادات الجدول
- **منتقي الأعمدة**: لاختيار الأعمدة المعروضة

### أعمدة الجدول
- **م**: رقم تسلسلي
- **كود الخصم**: كود الخصم الترويجي
- **نوع الخصم**: نوع الخصم (خصم نسبة، خصم مبلغ ثابت)
- **نسبة الخصم**: نسبة الخصم المئوية
- **الحد الأقصى لخصم النسبة**: الحد الأقصى لقيمة الخصم
- **قيمة الخصم**: قيمة الخصم بالعملة
- **الحد الأدنى لإحتساب الخصم**: الحد الأدنى للطلب لتفعيل الخصم
- **تبدأ من**: تاريخ بداية العرض
- **صالح حتى تاريخ**: تاريخ انتهاء العرض

### ميزات الجدول
- **التجميع**: يمكن سحب رأس العمود للتجميع حسب ذلك العمود
- **الترتيب**: إمكانية ترتيب البيانات حسب أي عمود
- **البحث**: إمكانية البحث في البيانات
- **التصفية**: إمكانية تصفية البيانات

### خيارات العرض
- **عدد العناصر في الصفحة**: الكل، 1000، 200، 100، 20
- **التنقل**: الصفحة 1 من 1 (1 من العناصر)
- **إنشاء عامل تصفية**: لإضافة فلاتر مخصصة

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/PromotionalOffersController
- يتطلب صلاحيات إدارية للوصول
- دعم أنواع خصومات متعددة

## إضافة عرض ترويجي جديد
### الوصف
تتيح هذه الشاشة للمديرين إنشاء عرض ترويجي جديد مع تحديد جميع التفاصيل والخصومات.

### الحقول المطلوبة
#### القسم العلوي (معلومات التخصيص والخصم)
- **كود الخصم** (إلزامي) - كود الخصم الترويجي
- **مخصص لشركة محددة** (اختياري) - قائمة منسدلة (مخصص للكل، شركات محددة)
- **مخصص لبرنامج محدد** (اختياري) - قائمة منسدلة (مخصص للكل، برامج محددة)
- **مخصص لباقة محددة** (اختياري) - قائمة منسدلة (مخصص للكل، باقات محددة)

#### القسم الأوسط (تفاصيل الخصم والقيم)
- **نوع الخصم** (إلزامي) - قائمة منسدلة (خصم نسبة%، خصم مبلغ ثابت)
- **نسبة الخصم** (إلزامي) - نسبة الخصم المئوية
- **الحد الأقصى لخصم النسبة** (إلزامي) - الحد الأقصى لقيمة الخصم
- **الحد الأدنى لإحتساب الخصم** (إلزامي) - الحد الأدنى للطلب لتفعيل الخصم

#### القسم السفلي (صلاحية الخصم والملاحظات)
- **عدد مرات الخصم** (اختياري) - قائمة منسدلة (خصم متعدد المرات، خصم لمرة واحدة)
- **تبدأ من** (إلزامي) - تاريخ بداية العرض
- **صالح حتى تاريخ** (إلزامي) - تاريخ انتهاء العرض
- **صلاحية الخصم** (إلزامي) - قائمة منسدلة (ساري، معطل)
- **ملاحظات بالعربية** (اختياري) - ملاحظات إضافية باللغة العربية
- **ملاحظات بالإنجليزية** (اختياري) - ملاحظات إضافية باللغة الإنجليزية

### أزرار التحكم
- **حفظ**: لحفظ العرض الترويجي الجديد
- **عودة**: للعودة إلى شاشة قائمة العروض الترويجية بدون حفظ

### رسائل النظام
- **نجاح**: "تم إضافة العرض الترويجي بنجاح"
- **خطأ**: "يرجى ملء جميع الحقول الإلزامية"
- **خطأ**: "كود الخصم موجود مسبقاً"
- **خطأ**: "تاريخ البداية يجب أن يكون قبل تاريخ النهاية"
- **خطأ**: "نسبة الخصم لا يمكن أن تكون أكبر من 100%"
- **خطأ**: "الحد الأدنى لإحتساب الخصم يجب أن يكون أكبر من 0"

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/PromotionalOffersController/Create
- التحقق من صحة البيانات قبل الحفظ
- دعم اللغتين العربية والإنجليزية
- دعم اختيار التواريخ من التقويم
- التحقق من عدم تكرار كود الخصم
- حساب تلقائي للقيم المالية

## المستخدمين
### الوصف
تتيح هذه الشاشة للمديرين إدارة المستخدمين وصلاحياتهم وأدوارهم في النظام.

### الوظائف
- عرض قائمة جميع المستخدمين
- إضافة مستخدم جديد
- تعديل بيانات المستخدم
- حذف المستخدم
- إدارة صلاحيات المستخدمين
- إدارة الأدوار
- تفعيل/تعطيل المستخدمين
- مراقبة نشاط المستخدمين

### أزرار التحكم في الشريط العلوي
- **إضافة جديد**: لإضافة مستخدم جديد
- **إعادة تحميل**: لإعادة تحميل البيانات
- **تصدير**: لتصدير بيانات المستخدمين
- **إعدادات الجدول**: لتخصيص إعدادات الجدول
- **منتقي الأعمدة**: لاختيار الأعمدة المعروضة

### أعمدة الجدول
- **المستخدم**: معرف المستخدم
- **الشركة**: اسم الشركة التابع لها المستخدم
- **اسم المستخدم**: الاسم الكامل للمستخدم
- **البريد الإلكتروني**: البريد الإلكتروني للمستخدم
- **رقم الجوال**: رقم الجوال للمستخدم
- **المستخدم فعال؟**: حالة المستخدم (المستخدم مفعل/معطل)

### ميزات الجدول
- **التجميع**: يمكن سحب رأس العمود للتجميع حسب ذلك العمود
- **الترتيب**: إمكانية ترتيب البيانات حسب أي عمود
- **البحث**: إمكانية البحث في البيانات
- **التصفية**: إمكانية تصفية البيانات

### خيارات العرض
- **عدد العناصر في الصفحة**: الكل، 1000، 200، 100، 20
- **التنقل**: الصفحة 1 من 3 (49 من العناصر)
- **إنشاء عامل تصفية**: لإضافة فلاتر مخصصة

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/UsersController
- يتطلب صلاحيات إدارية للوصول
- دعم إدارة الصلاحيات المتقدمة

## إضافة مستخدم جديد
### الوصف
تتيح هذه الشاشة للمديرين إضافة مستخدم جديد مع تحديد جميع التفاصيل الشخصية والصلاحيات المخصصة.

### الأقسام الرئيسية
#### 1. تفاصيل المستخدم
##### معلومات المستخدم الأساسية
- **اسم المستخدم بالعربية** (إلزامي) - اسم المستخدم باللغة العربية
- **اسم المستخدم بالإنجليزية** (إلزامي) - اسم المستخدم باللغة الإنجليزية
- **المستخدم** (إلزامي) - معرف المستخدم
- **البريد الإلكتروني** (إلزامي) - البريد الإلكتروني للمستخدم

##### معلومات الأمان
- **كلمة المرور** (إلزامي) - كلمة مرور المستخدم مع إمكانية إظهار/إخفاء
- **تأكيد كلمة المرور** (إلزامي) - تأكيد كلمة المرور مع إمكانية إظهار/إخفاء

##### معلومات إضافية
- **رقم الجوال** (إلزامي) - رقم الجوال مع اختيار رمز الدولة
- **تاريخ الميلاد** (اختياري) - تاريخ ميلاد المستخدم مع اختيار التاريخ
- **الشركة** (إلزامي) - قائمة منسدلة لاختيار الشركة
- **اللغة المفضلة للتواصل** (إلزامي) - قائمة منسدلة (العربية، الإنجليزية)

#### 2. الصلاحيات المخصصة
##### اختيار الموقع والفرع والنشاط
- **الموقع** (اختياري) - قائمة منسدلة لاختيار الموقع
- **الفرع** (اختياري) - قائمة منسدلة لاختيار الفرع
- **النشاط** (اختياري) - قائمة منسدلة لاختيار النشاط
- **البرنامج** (إلزامي) - قائمة منسدلة (البسيط ويب)

##### إدارة الشاشات والصلاحيات
- **الشاشات والصلاحيات** - اختيار الشاشات والصلاحيات الخاصة بالمستخدم
  - تأسيس
  - المخازن
  - المحاسبة
  - مراكز التكلفة
  - المشتريات
  - المبيعات
  - التقارير
  - الطلبات
  - الموافقات
  - الترابطات
  - الإعدادات

##### إدارة الموافقات
- **الموافقات** - اختيار المراحل المراد إضافتها للمستخدم
  - مراحل الموافقة المختلفة
  - صلاحيات الموافقة

### أزرار التحكم
- **حفظ**: لحفظ المستخدم الجديد
- **عودة**: للعودة إلى شاشة قائمة المستخدمين بدون حفظ

### رسائل النظام
- **نجاح**: "تم إضافة المستخدم بنجاح"
- **خطأ**: "يرجى ملء جميع الحقول الإلزامية"
- **خطأ**: "البريد الإلكتروني غير صحيح"
- **خطأ**: "كلمة المرور لا تتطابق مع تأكيد كلمة المرور"
- **خطأ**: "رقم الجوال غير صحيح"
- **خطأ**: "اسم المستخدم موجود مسبقاً"

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/UsersController/Create
- التحقق من صحة البيانات قبل الحفظ
- دعم اللغتين العربية والإنجليزية
- دعم اختيار التواريخ من التقويم
- تشفير كلمات المرور
- التحقق من عدم تكرار أسماء المستخدمين

## الملف الشخصي
### الوصف
تتيح هذه الشاشة للمديرين إدارة حسابهم الشخصي وتحديث بياناتهم وإعداداتهم.

### الوظائف
- عرض البيانات الشخصية
- تحديث البيانات الشخصية
- تغيير كلمة المرور
- إدارة الإعدادات الشخصية
- تفضيلات النظام
- إدارة الإشعارات
- عرض اشتراكاتي
- إدارة معلومات الشركة

### الأقسام الرئيسية
#### 1. المعلومات الشخصية
- **المستخدم**: معرف المستخدم
- **اسم المستخدم بالعربية** (إلزامي) - اسم المستخدم باللغة العربية
- **اسم المستخدم بالإنجليزية** (إلزامي) - اسم المستخدم باللغة الإنجليزية
- **البريد الإلكتروني** (إلزامي) - البريد الإلكتروني مع حالة التحقق
- **رقم الجوال** (إلزامي) - رقم الجوال مع رمز الدولة

#### 2. اشتراكاتي
- **اسم الاشتراك**: البسيط ويب (الباقة الكاملة (سنوي))
- **حالة الاشتراك**: نشط
- **تاريخ الاشتراك**: تاريخ بداية الاشتراك
- **دورية الاشتراك**: سنوي/شهري
- **بداية الاشتراك**: تاريخ بداية فترة الاشتراك
- **نهاية الاشتراك**: تاريخ انتهاء فترة الاشتراك
- **قيمة الاشتراك**: القيمة الإجمالية للاشتراك
- **المبلغ المدفوع**: المبلغ المدفوع فعلياً
- **حالة الدفع**: الاشتراك مدفوع/غير مدفوع

##### أزرار التحكم في الاشتراك
- **تجديد**: لتجديد الاشتراك
- **تغيير**: لتغيير الاشتراك
- **دفع**: لدفع الاشتراك

#### 3. معلومات الشركة
- **الشركة بالعربية** (إلزامي) - اسم الشركة باللغة العربية
- **الشركة بالإنجليزية** (إلزامي) - اسم الشركة باللغة الإنجليزية
- **الجوال** (إلزامي) - رقم جوال الشركة
- **العنوان** (إلزامي) - عنوان الشركة الكامل
- **الإيميل** (إلزامي) - البريد الإلكتروني للشركة
- **رقم الضريبة** (اختياري) - الرقم الضريبي للشركة

### أزرار التحكم
- **حفظ**: لحفظ التغييرات
- **إلغاء**: للعودة بدون حفظ
- **تغيير كلمة المرور**: لفتح شاشة تغيير كلمة المرور
- **رفع صورة**: لرفع صورة شخصية جديدة
- **إعادة تعيين**: لإعادة تعيين الإعدادات للافتراضية

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Admin/ProfileController
- يتطلب تسجيل دخول صحيح
- دعم رفع الصور الشخصية

## الخروج من النظام
### الوصف
تتيح هذه الوظيفة للمستخدم تسجيل الخروج من النظام بشكل آمن.

### الوظائف
- إنهاء الجلسة الحالية للمستخدم
- إعادة توجيه المستخدم إلى شاشة تسجيل الدخول

### الخطوات
1. اضغط على زر "مرحباً أحمد أيمن" في الشريط العلوي.
2. اختر "خروج" من القائمة المنسدلة.
3. سيتم تسجيل خروجك من النظام وإعادتك إلى شاشة تسجيل الدخول.

### رسائل النظام
- **نجاح**: "تم تسجيل الخروج بنجاح."

### التفاصيل التقنية
- **الربط الخلفي**: Shared.API/Controllers/Auth/LogoutController
- إزالة رمز الجلسة (Session Token) أو رمز المصادقة (Authentication Token) من المتصفح.

## أنواع الخروج من النظام
### الوصف
يمكن للمستخدم الخروج من النظام بعدة طرق، كل منها يؤدي إلى إنهاء الجلسة الحالية.

### أنواع الخروج
#### 1. الخروج اليدوي:
- يتم عن طريق اختيار "خروج" من القائمة المنسدلة في الشريط العلوي.
- هو الطريقة الأكثر شيوعاً والأكثر أماناً لإنهاء الجلسة.

#### 2. الخروج التلقائي (انتهاء الجلسة):
- يحدث عندما لا يكون هناك نشاط من المستخدم لفترة زمنية محددة (مثلاً 30 دقيقة).
- يتم تسجيل الخروج تلقائياً لزيادة الأمان ومنع الوصول غير المصرح به.
- يتم إعلام المستخدم برسالة تفيد بانتهاء الجلسة.

#### 3. الخروج الإجباري (من قبل المسؤول):
- يمكن للمسؤولين (عبر شاشة إدارة المستخدمين) إنهاء جلسة مستخدم معين.
- يستخدم في حالات الطوارئ أو عند اكتشاف نشاط مشبوه.
- يتم إعلام المستخدم برسالة تفيد بأنه تم تسجيل خروجه من قبل المسؤول.

### نصائح أمنية
- احرص دائماً على تسجيل الخروج يدوياً عند الانتهاء من استخدام النظام، خاصة على الأجهزة المشتركة.
- قم بتغيير كلمة المرور بانتظام.

## ملاحظات مهمة
### الأمان
- جميع الشاشات تتطلب صلاحيات إدارية للوصول
- يتم تشفير كلمات المرور قبل الحفظ
- يتم التحقق من صحة البيانات قبل الحفظ

### الدعم التقني
- جميع الشاشات تدعم اللغتين العربية والإنجليزية
- يتم حفظ التواريخ بصيغة DD/MM/YYYY
- جميع الحقول الإلزامية محددة بعلامة (*)

### التحديثات
- هذا الدليل يتم تحديثه باستمرار مع إضافة ميزات جديدة
- يرجى مراجعة هذا الدليل قبل استخدام أي شاشة جديدة